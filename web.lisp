
(defpackage :cve-hunt.webui
  (:use :cl :defstar :wookie  :spinneret :cl-chota))
(in-package :cve-hunt.webui)

(defparameter* (+project-name+ string) "Cve Hunt")
(defparameter* (+listen-address+ string) "127.0.0.1")
(defparameter* (+listen-port+ integer) 8080)

(defun navbar ()
  (with-html
    (nav ""
      (nav-left ""
        (nav-brand "" :href "/" (:h3 (:p +project-name+)))
        (:a :href "/search")))))

;; TODO with page macro
(defmacro with-page (&body body)
  `(with-html-string
     (:doctype)
     (:html
      (:head
       (:title ,+project-name+)
       (:link
        :rel
        "stylesheet"
        :href "https://unpkg.com/chota@latest"))
      (:body
       (navbar)
       ,@body))))




;; (defvar *server*
;;   (make-instance 'hunchentoot:easy-acceptor :port 4242 :document-root #p "./static"))
